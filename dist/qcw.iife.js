var ChatWidget=function(){"use strict";var Jn=Object.defineProperty;var Nr=$=>{throw TypeError($)};var Zn=($,p,A)=>p in $?Jn($,p,{enumerable:!0,configurable:!0,writable:!0,value:A}):$[p]=A;var B=($,p,A)=>Zn($,typeof p!="symbol"?p+"":p,A),$e=($,p,A)=>p.has($)||Nr("Cannot "+A);var y=($,p,A)=>($e($,p,"read from private field"),A?A.call($):p.get($)),lt=($,p,A)=>p.has($)?Nr("Cannot add the same private member more than once"):p instanceof WeakSet?p.add($):p.set($,A),kt=($,p,A,at)=>($e($,p,"write to private field"),at?at.call($,A):p.set($,A),A),Or=($,p,A)=>($e($,p,"access private method"),A);var Ar,rt,pt,Ot,Kt,Cr,Z,j;const $="5";typeof window<"u"&&((Ar=window.__svelte??(window.__svelte={})).v??(Ar.v=new Set)).add($);const p=1,A=2,at="[",be="[!",pe="]",ot={},k=Symbol(),Sr="http://www.w3.org/1999/xhtml",me=!1;var Ee=Array.isArray,kr=Array.prototype.indexOf,Ir=Array.from,It=Object.keys,Rt=Object.defineProperty,ct=Object.getOwnPropertyDescriptor,Rr=Object.getOwnPropertyDescriptors,Lr=Object.prototype,Dr=Array.prototype,ye=Object.getPrototypeOf,Te=Object.isExtensible;function xe(t){for(var e=0;e<t.length;e++)t[e]()}const Y=2,Ae=4,Lt=8,Jt=16,G=32,nt=64,Zt=128,L=256,Dt=512,D=1024,W=2048,it=4096,vt=8192,Qt=16384,Ne=32768,Xt=65536,Pr=1<<19,Oe=1<<20,te=1<<21,Pt=Symbol("$state"),Mr=Symbol("legacy props"),qr=Symbol("");function Ce(t){return t===this.v}function Fr(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function jr(t){return!Fr(t,this.v)}function Hr(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ur(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Br(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Yr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Vr(){throw new Error("https://svelte.dev/e/hydration_failed")}function Wr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function zr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Kr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Gr=!1;function Jr(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let P=null;function Se(t){P=t}function Mt(t,e=!1,r){var n=P={p:P,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};Be(()=>{n.d=!0})}function qt(t){const e=P;if(e!==null){t!==void 0&&(e.x=t);const f=e.e;if(f!==null){var r=w,n=g;e.e=null;try{for(var i=0;i<f.length;i++){var s=f[i];tt(s.effect),K(s.reaction),jt(s.fn)}}finally{tt(r),K(n)}}P=e.p,e.m=!0}return t||{}}function ke(){return!0}function ht(t){if(typeof t!="object"||t===null||Pt in t)return t;const e=ye(t);if(e!==Lr&&e!==Dr)return t;var r=new Map,n=Ee(t),i=q(0),s=g,f=u=>{var l=g;K(s);var o=u();return K(l),o};return n&&r.set("length",q(t.length)),new Proxy(t,{defineProperty(u,l,o){return(!("value"in o)||o.configurable===!1||o.enumerable===!1||o.writable===!1)&&Wr(),f(()=>{var v=r.get(l);v===void 0?(v=q(o.value),r.set(l,v)):N(v,o.value,!0)}),!0},deleteProperty(u,l){var o=r.get(l);if(o===void 0){if(l in u){const c=f(()=>q(k));r.set(l,c),ee(i)}}else{if(n&&typeof l=="string"){var v=r.get("length"),a=Number(l);Number.isInteger(a)&&a<v.v&&N(v,a)}N(o,k),ee(i)}return!0},get(u,l,o){var h;if(l===Pt)return t;var v=r.get(l),a=l in u;if(v===void 0&&(!a||(h=ct(u,l))!=null&&h.writable)&&(v=f(()=>{var _=ht(a?u[l]:k),E=q(_);return E}),r.set(l,v)),v!==void 0){var c=m(v);return c===k?void 0:c}return Reflect.get(u,l,o)},getOwnPropertyDescriptor(u,l){var o=Reflect.getOwnPropertyDescriptor(u,l);if(o&&"value"in o){var v=r.get(l);v&&(o.value=m(v))}else if(o===void 0){var a=r.get(l),c=a==null?void 0:a.v;if(a!==void 0&&c!==k)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return o},has(u,l){var c;if(l===Pt)return!0;var o=r.get(l),v=o!==void 0&&o.v!==k||Reflect.has(u,l);if(o!==void 0||w!==null&&(!v||(c=ct(u,l))!=null&&c.writable)){o===void 0&&(o=f(()=>{var h=v?ht(u[l]):k,_=q(h);return _}),r.set(l,o));var a=m(o);if(a===k)return!1}return v},set(u,l,o,v){var b;var a=r.get(l),c=l in u;if(n&&l==="length")for(var h=o;h<a.v;h+=1){var _=r.get(h+"");_!==void 0?N(_,k):h in u&&(_=f(()=>q(k)),r.set(h+"",_))}if(a===void 0)(!c||(b=ct(u,l))!=null&&b.writable)&&(a=f(()=>{var R=q(void 0);return N(R,ht(o)),R}),r.set(l,a));else{c=a.v!==k;var E=f(()=>ht(o));N(a,E)}var H=Reflect.getOwnPropertyDescriptor(u,l);if(H!=null&&H.set&&H.set.call(v,o),!c){if(n&&typeof l=="string"){var mt=r.get("length"),d=Number(l);Number.isInteger(d)&&d>=mt.v&&N(mt,d+1)}ee(i)}return!0},ownKeys(u){m(i);var l=Reflect.ownKeys(u).filter(a=>{var c=r.get(a);return c===void 0||c.v!==k});for(var[o,v]of r)v.v!==k&&!(o in u)&&l.push(o);return l},setPrototypeOf(){zr()}})}function ee(t,e=1){N(t,t.v+e)}function re(t){var e=Y|W,r=g!==null&&(g.f&Y)!==0?g:null;return w===null||r!==null&&(r.f&L)!==0?e|=L:w.f|=Oe,{ctx:P,deps:null,effects:null,equals:Ce,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:r??w}}function Ie(t){const e=re(t);return nr(e),e}function Re(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)X(e[r])}}function Zr(t){for(var e=t.parent;e!==null;){if((e.f&Y)===0)return e;e=e.parent}return null}function Le(t){var e,r=w;tt(Zr(t));try{Re(t),e=ur(t)}finally{tt(r)}return e}function De(t){var e=Le(t);if(t.equals(e)||(t.v=e,t.wv=sr()),!gt){var r=(et||(t.f&L)!==0)&&t.deps!==null?it:D;V(t,r)}}const Et=new Map;function Pe(t,e){var r={f:0,v:t,reactions:null,equals:Ce,rv:0,wv:0};return r}function q(t,e){const r=Pe(t);return nr(r),r}function Me(t,e=!1,r=!0){const n=Pe(t);return e||(n.equals=jr),n}function N(t,e,r=!1){g!==null&&!z&&ke()&&(g.f&(Y|Jt))!==0&&!(O!=null&&O.includes(t))&&Kr();let n=r?ht(e):e;return Qr(t,n)}function Qr(t,e){if(!t.equals(e)){var r=t.v;gt?Et.set(t,e):Et.set(t,r),t.v=e,(t.f&Y)!==0&&((t.f&W)!==0&&Le(t),V(t,(t.f&L)===0?D:it)),t.wv=sr(),qe(t,W),w!==null&&(w.f&D)!==0&&(w.f&(G|nt))===0&&(F===null?_n([t]):F.push(t))}return e}function qe(t,e){var r=t.reactions;if(r!==null)for(var n=r.length,i=0;i<n;i++){var s=r[i],f=s.f;(f&W)===0&&(V(s,e),(f&(D|L))!==0&&((f&Y)!==0?qe(s,it):Yt(s)))}}function Ft(t){console.warn("https://svelte.dev/e/hydration_mismatch")}let T=!1;function dt(t){T=t}let x;function Q(t){if(t===null)throw Ft(),ot;return x=t}function ne(){return Q(st(x))}function ie(t){if(T){if(st(x)!==null)throw Ft(),ot;x=t}}function Xr(){for(var t=0,e=x;;){if(e.nodeType===8){var r=e.data;if(r===pe){if(t===0)return e;t-=1}else(r===at||r===be)&&(t+=1)}var n=st(e);e.remove(),e=n}}function tn(t){if(!t||t.nodeType!==8)throw Ft(),ot;return t.data}var Fe,je,He,Ue;function se(){if(Fe===void 0){Fe=window,je=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;He=ct(e,"firstChild").get,Ue=ct(e,"nextSibling").get,Te(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Te(r)&&(r.__t=void 0)}}function yt(t=""){return document.createTextNode(t)}function _t(t){return He.call(t)}function st(t){return Ue.call(t)}function fe(t,e){if(!T)return _t(t);var r=_t(x);if(r===null)r=x.appendChild(yt());else if(e&&r.nodeType!==3){var n=yt();return r==null||r.before(n),Q(n),n}return Q(r),r}function ue(t,e){if(!T){var r=_t(t);return r instanceof Comment&&r.data===""?st(r):r}return x}function en(t,e=1,r=!1){let n=T?x:t;for(var i;e--;)i=n,n=st(n);if(!T)return n;var s=n==null?void 0:n.nodeType;if(r&&s!==3){var f=yt();return n===null?i==null||i.after(f):n.before(f),Q(f),f}return Q(n),n}function rn(t){t.textContent=""}function nn(t){w===null&&g===null&&Br(),g!==null&&(g.f&L)!==0&&w===null&&Ur(),gt&&Hr()}function sn(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function ft(t,e,r,n=!0){var i=w,s={ctx:P,deps:null,nodes_start:null,nodes_end:null,f:t|W,first:null,fn:e,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(r)try{ce(s),s.f|=Ne}catch(l){throw X(s),l}else e!==null&&Yt(s);var f=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(Oe|Zt))===0;if(!f&&n&&(i!==null&&sn(s,i),g!==null&&(g.f&Y)!==0)){var u=g;(u.effects??(u.effects=[])).push(s)}return s}function Be(t){const e=ft(Lt,null,!1);return V(e,D),e.teardown=t,e}function fn(t){nn();var e=w!==null&&(w.f&G)!==0&&P!==null&&!P.m;if(e){var r=P;(r.e??(r.e=[])).push({fn:t,effect:w,reaction:g})}else{var n=jt(t);return n}}function un(t){const e=ft(nt,t,!0);return()=>{X(e)}}function ln(t){const e=ft(nt,t,!0);return(r={})=>new Promise(n=>{r.outro?ae(e,()=>{X(e),n(void 0)}):(X(e),n(void 0))})}function jt(t){return ft(Ae,t,!1)}function Ye(t){return ft(Lt,t,!0)}function Ve(t,e=[],r=re){const n=e.map(r);return We(()=>t(...n.map(m)))}function We(t,e=0){return ft(Lt|Jt|e,t,!0)}function le(t,e=!0){return ft(Lt|G,t,!0,e)}function ze(t){var e=t.teardown;if(e!==null){const r=gt,n=g;rr(!0),K(null);try{e.call(null)}finally{rr(r),K(n)}}}function Ke(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var n=r.next;(r.f&nt)!==0?r.parent=null:X(r,e),r=n}}function an(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&G)===0&&X(e),e=r}}function X(t,e=!0){var r=!1;(e||(t.f&Pr)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(on(t.nodes_start,t.nodes_end),r=!0),Ke(t,e&&!r),Bt(t,0),V(t,Qt);var n=t.transitions;if(n!==null)for(const s of n)s.stop();ze(t);var i=t.parent;i!==null&&i.first!==null&&Ge(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function on(t,e){for(;t!==null;){var r=t===e?null:st(t);t.remove(),t=r}}function Ge(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function ae(t,e){var r=[];Je(t,r,!0),cn(r,()=>{X(t),e&&e()})}function cn(t,e){var r=t.length;if(r>0){var n=()=>--r||e();for(var i of t)i.out(n)}else e()}function Je(t,e,r){if((t.f&vt)===0){if(t.f^=vt,t.transitions!==null)for(const f of t.transitions)(f.is_global||r)&&e.push(f);for(var n=t.first;n!==null;){var i=n.next,s=(n.f&Xt)!==0||(n.f&G)!==0;Je(n,e,s?r:!1),n=i}}}function Ze(t){Qe(t,!0)}function Qe(t,e){if((t.f&vt)!==0){t.f^=vt,(t.f&D)!==0&&(V(t,W),Yt(t));for(var r=t.first;r!==null;){var n=r.next,i=(r.f&Xt)!==0||(r.f&G)!==0;Qe(r,i?e:!1),r=n}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}let Tt=[],oe=[];function Xe(){var t=Tt;Tt=[],xe(t)}function vn(){var t=oe;oe=[],xe(t)}function tr(t){Tt.length===0&&queueMicrotask(Xe),Tt.push(t)}function hn(){Tt.length>0&&Xe(),oe.length>0&&vn()}function dn(t){var e=w;if((e.f&Ne)===0){if((e.f&Zt)===0)throw t;e.fn(t)}else er(t,e)}function er(t,e){for(;e!==null;){if((e.f&Zt)!==0)try{e.fn(t);return}catch{}e=e.parent}throw t}let xt=!1,At=null,ut=!1,gt=!1;function rr(t){gt=t}let Nt=[],Qn=[],g=null,z=!1;function K(t){g=t}let w=null;function tt(t){w=t}let O=null;function nr(t){g!==null&&g.f&te&&(O===null?O=[t]:O.push(t))}let C=null,M=0,F=null;function _n(t){F=t}let ir=1,Ht=0,et=!1;function sr(){return++ir}function Ut(t){var a;var e=t.f;if((e&W)!==0)return!0;if((e&it)!==0){var r=t.deps,n=(e&L)!==0;if(r!==null){var i,s,f=(e&Dt)!==0,u=n&&w!==null&&!et,l=r.length;if(f||u){var o=t,v=o.parent;for(i=0;i<l;i++)s=r[i],(f||!((a=s==null?void 0:s.reactions)!=null&&a.includes(o)))&&(s.reactions??(s.reactions=[])).push(o);f&&(o.f^=Dt),u&&v!==null&&(v.f&L)===0&&(o.f^=L)}for(i=0;i<l;i++)if(s=r[i],Ut(s)&&De(s),s.wv>t.wv)return!0}(!n||w!==null&&!et)&&V(t,D)}return!1}function fr(t,e,r=!0){var n=t.reactions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];O!=null&&O.includes(t)||((s.f&Y)!==0?fr(s,e,!1):e===s&&(r?V(s,W):(s.f&D)!==0&&V(s,it),Yt(s)))}}function ur(t){var h;var e=C,r=M,n=F,i=g,s=et,f=O,u=P,l=z,o=t.f;C=null,M=0,F=null,et=(o&L)!==0&&(z||!ut||g===null),g=(o&(G|nt))===0?t:null,O=null,Se(t.ctx),z=!1,Ht++,t.f|=te;try{var v=(0,t.fn)(),a=t.deps;if(C!==null){var c;if(Bt(t,M),a!==null&&M>0)for(a.length=M+C.length,c=0;c<C.length;c++)a[M+c]=C[c];else t.deps=a=C;if(!et)for(c=M;c<a.length;c++)((h=a[c]).reactions??(h.reactions=[])).push(t)}else a!==null&&M<a.length&&(Bt(t,M),a.length=M);if(ke()&&F!==null&&!z&&a!==null&&(t.f&(Y|it|W))===0)for(c=0;c<F.length;c++)fr(F[c],t);return i!==null&&i!==t&&(Ht++,F!==null&&(n===null?n=F:n.push(...F))),v}catch(_){dn(_)}finally{C=e,M=r,F=n,g=i,et=s,O=f,Se(u),z=l,t.f^=te}}function gn(t,e){let r=e.reactions;if(r!==null){var n=kr.call(r,t);if(n!==-1){var i=r.length-1;i===0?r=e.reactions=null:(r[n]=r[i],r.pop())}}r===null&&(e.f&Y)!==0&&(C===null||!C.includes(e))&&(V(e,it),(e.f&(L|Dt))===0&&(e.f^=Dt),Re(e),Bt(e,0))}function Bt(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)gn(t,r[n])}function ce(t){var e=t.f;if((e&Qt)===0){V(t,D);var r=w,n=ut;w=t,ut=!0;try{(e&Jt)!==0?an(t):Ke(t),ze(t);var i=ur(t);t.teardown=typeof i=="function"?i:null,t.wv=ir;var s;me&&Gr&&(t.f&W)!==0&&t.deps}finally{ut=n,w=r}}}function wn(){try{Yr()}catch(t){if(At!==null)er(t,At);else throw t}}function lr(){var t=ut;try{var e=0;for(ut=!0;Nt.length>0;){e++>1e3&&wn();var r=Nt,n=r.length;Nt=[];for(var i=0;i<n;i++){var s=bn(r[i]);$n(s)}Et.clear()}}finally{xt=!1,ut=t,At=null}}function $n(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var n=t[r];(n.f&(Qt|vt))===0&&Ut(n)&&(ce(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Ge(n):n.fn=null))}}function Yt(t){xt||(xt=!0,queueMicrotask(lr));for(var e=At=t;e.parent!==null;){e=e.parent;var r=e.f;if((r&(nt|G))!==0){if((r&D)===0)return;e.f^=D}}Nt.push(e)}function bn(t){for(var e=[],r=t;r!==null;){var n=r.f,i=(n&(G|nt))!==0,s=i&&(n&D)!==0;if(!s&&(n&vt)===0){(n&Ae)!==0?e.push(r):i?r.f^=D:Ut(r)&&ce(r);var f=r.first;if(f!==null){r=f;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)r=u.next,u=u.parent}return e}function S(t){for(var e;;){if(hn(),Nt.length===0)return xt=!1,At=null,e;xt=!0,lr()}}function m(t){var e=t.f,r=(e&Y)!==0;if(g!==null&&!z){if(!(O!=null&&O.includes(t))){var n=g.deps;t.rv<Ht&&(t.rv=Ht,C===null&&n!==null&&n[M]===t?M++:C===null?C=[t]:(!et||!C.includes(t))&&C.push(t))}}else if(r&&t.deps===null&&t.effects===null){var i=t,s=i.parent;s!==null&&(s.f&L)===0&&(i.f^=L)}return r&&(i=t,Ut(i)&&De(i)),gt&&Et.has(t)?Et.get(t):t.v}function Vt(t){var e=z;try{return z=!0,t()}finally{z=e}}const pn=-7169;function V(t,e){t.f=t.f&pn|e}function mn(t,e,r,n=!0){n&&r();for(var i of e)t.addEventListener(i,r);Be(()=>{for(var s of e)t.removeEventListener(s,r)})}function En(t){var e=g,r=w;K(null),tt(null);try{return t()}finally{K(e),tt(r)}}const ar=new Set,ve=new Set;function yn(t){for(var e=0;e<t.length;e++)ar.add(t[e]);for(var r of ve)r(t)}function Wt(t){var d;var e=this,r=e.ownerDocument,n=t.type,i=((d=t.composedPath)==null?void 0:d.call(t))||[],s=i[0]||t.target,f=0,u=t.__root;if(u){var l=i.indexOf(u);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var o=i.indexOf(e);if(o===-1)return;l<=o&&(f=l)}if(s=i[f]||t.target,s!==e){Rt(t,"currentTarget",{configurable:!0,get(){return s||r}});var v=g,a=w;K(null),tt(null);try{for(var c,h=[];s!==null;){var _=s.assignedSlot||s.parentNode||s.host||null;try{var E=s["__"+n];if(E!=null&&(!s.disabled||t.target===s))if(Ee(E)){var[H,...mt]=E;H.apply(s,[t,...mt])}else E.call(s,t)}catch(b){c?h.push(b):c=b}if(t.cancelBubble||_===e||_===null)break;s=_}if(c){for(let b of h)queueMicrotask(()=>{throw b});throw c}}finally{t.__root=e,delete t.currentTarget,K(v),tt(a)}}}function Tn(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function wt(t,e){var r=w;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function he(t,e){var r=(e&p)!==0,n=(e&A)!==0,i,s=!t.startsWith("<!>");return()=>{if(T)return wt(x,null),x;i===void 0&&(i=Tn(s?t:"<!>"+t),r||(i=_t(i)));var f=n||je?document.importNode(i,!0):i.cloneNode(!0);if(r){var u=_t(f),l=f.lastChild;wt(u,l)}else wt(f,f);return f}}function or(){if(T)return wt(x,null),x;var t=document.createDocumentFragment(),e=document.createComment(""),r=yt();return t.append(e,r),wt(e,r),t}function $t(t,e){if(T){w.nodes_end=x,ne();return}t!==null&&t.before(e)}const xn=["touchstart","touchmove"];function An(t){return xn.includes(t)}function Nn(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function cr(t,e){return vr(t,e)}function On(t,e){se(),e.intro=e.intro??!1;const r=e.target,n=T,i=x;try{for(var s=_t(r);s&&(s.nodeType!==8||s.data!==at);)s=st(s);if(!s)throw ot;dt(!0),Q(s),ne();const f=vr(t,{...e,anchor:s});if(x===null||x.nodeType!==8||x.data!==pe)throw Ft(),ot;return dt(!1),f}catch(f){if(f===ot)return e.recover===!1&&Vr(),se(),rn(r),dt(!1),cr(t,e);throw f}finally{dt(n),Q(i)}}const bt=new Map;function vr(t,{target:e,anchor:r,props:n={},events:i,context:s,intro:f=!0}){se();var u=new Set,l=a=>{for(var c=0;c<a.length;c++){var h=a[c];if(!u.has(h)){u.add(h);var _=An(h);e.addEventListener(h,Wt,{passive:_});var E=bt.get(h);E===void 0?(document.addEventListener(h,Wt,{passive:_}),bt.set(h,1)):bt.set(h,E+1)}}};l(Ir(ar)),ve.add(l);var o=void 0,v=ln(()=>{var a=r??e.appendChild(yt());return le(()=>{if(s){Mt({});var c=P;c.c=s}i&&(n.$$events=i),T&&wt(a,null),o=t(a,n)||{},T&&(w.nodes_end=x),s&&qt()}),()=>{var _;for(var c of u){e.removeEventListener(c,Wt);var h=bt.get(c);--h===0?(document.removeEventListener(c,Wt),bt.delete(c)):bt.set(c,h)}ve.delete(l),a!==r&&((_=a.parentNode)==null||_.removeChild(a))}});return de.set(o,v),o}let de=new WeakMap;function Cn(t,e){const r=de.get(t);return r?(de.delete(t),r(e)):Promise.resolve()}function Sn(t){P===null&&Jr(),fn(()=>{const e=Vt(t);if(typeof e=="function")return e})}function hr(t,e,[r,n]=[0,0]){T&&r===0&&ne();var i=t,s=null,f=null,u=k,l=r>0?Xt:0,o=!1;const v=(c,h=!0)=>{o=!0,a(h,c)},a=(c,h)=>{if(u===(u=c))return;let _=!1;if(T&&n!==-1){if(r===0){const H=tn(i);H===at?n=0:H===be?n=1/0:(n=parseInt(H.substring(1)),n!==n&&(n=u?1/0:-1))}const E=n>r;!!u===E&&(i=Xr(),Q(i),dt(!1),_=!0,n=-1)}u?(s?Ze(s):h&&(s=le(()=>h(i))),f&&ae(f,()=>{f=null})):(f?Ze(f):h&&(f=le(()=>h(i,[r+1,n]))),s&&ae(s,()=>{s=null})),_&&dt(!0)};We(()=>{o=!1,e(v),o||a(null,null)},l),T&&(i=x)}function dr(t,e){tr(()=>{var r=t.getRootNode(),n=r.host?r:r.head??r.ownerDocument.head;if(!n.querySelector("#"+e.hash)){const i=document.createElement("style");i.id=e.hash,i.textContent=e.code,n.appendChild(i)}})}const _r=[...` 	
\r\f \v\uFEFF`];function kn(t,e,r){var n=""+t;if(r){for(var i in r)if(r[i])n=n?n+" "+i:i;else if(n.length)for(var s=i.length,f=0;(f=n.indexOf(i,f))>=0;){var u=f+s;(f===0||_r.includes(n[f-1]))&&(u===n.length||_r.includes(n[u]))?n=(f===0?"":n.substring(0,f))+n.substring(u+1):f=u}}return n===""?null:n}function gr(t,e=!1){var r=e?" !important;":";",n="";for(var i in t){var s=t[i];s!=null&&s!==""&&(n+=" "+i+": "+s+r)}return n}function In(t,e){if(e){var r="",n,i;return Array.isArray(e)?(n=e[0],i=e[1]):n=e,n&&(r+=gr(n)),i&&(r+=gr(i,!0)),r=r.trim(),r===""?null:r}return String(t)}function Rn(t,e,r,n,i,s){var f=t.__className;if(T||f!==r||f===void 0){var u=kn(r,n,s);(!T||u!==t.getAttribute("class"))&&(u==null?t.removeAttribute("class"):t.className=u),t.__className=r}else if(s&&i!==s)for(var l in s){var o=!!s[l];(i==null||o!==!!i[l])&&t.classList.toggle(l,o)}return s}function _e(t,e={},r,n){for(var i in r){var s=r[i];e[i]!==s&&(r[i]==null?t.style.removeProperty(i):t.style.setProperty(i,s,n))}}function wr(t,e,r,n){var i=t.__style;if(T||i!==e){var s=In(e,n);(!T||s!==t.getAttribute("style"))&&(s==null?t.removeAttribute("style"):t.style.cssText=s),t.__style=e}else n&&(Array.isArray(n)?(_e(t,r==null?void 0:r[0],n[0]),_e(t,r==null?void 0:r[1],n[1],"important")):_e(t,r,n));return n}const Ln=Symbol("is custom element"),Dn=Symbol("is html");function $r(t,e,r,n){var i=Pn(t);T&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=r)&&(e==="loading"&&(t[qr]=r),r==null?t.removeAttribute(e):typeof r!="string"&&Mn(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function Pn(t){return t.__attributes??(t.__attributes={[Ln]:t.nodeName.includes("-"),[Dn]:t.namespaceURI===Sr})}var br=new Map;function Mn(t){var e=br.get(t.nodeName);if(e)return e;br.set(t.nodeName,e=[]);for(var r,n=t,i=Element.prototype;i!==n;){r=Rr(n);for(var s in r)r[s].set&&e.push(s);n=ye(n)}return e}const Gt=class Gt{constructor(e){lt(this,Kt);lt(this,rt,new WeakMap);lt(this,pt);lt(this,Ot);kt(this,Ot,e)}observe(e,r){var n=y(this,rt).get(e)||new Set;return n.add(r),y(this,rt).set(e,n),Or(this,Kt,Cr).call(this).observe(e,y(this,Ot)),()=>{var i=y(this,rt).get(e);i.delete(r),i.size===0&&(y(this,rt).delete(e),y(this,pt).unobserve(e))}}};rt=new WeakMap,pt=new WeakMap,Ot=new WeakMap,Kt=new WeakSet,Cr=function(){return y(this,pt)??kt(this,pt,new ResizeObserver(e=>{for(var r of e){Gt.entries.set(r.target,r);for(var n of y(this,rt).get(r.target)||[])n(r)}}))},B(Gt,"entries",new WeakMap);let ge=Gt;var qn=new ge({box:"border-box"});function Fn(t,e,r){var n=qn.observe(t,()=>r(t[e]));jt(()=>(Vt(()=>r(t[e])),n))}function pr(t,e){return t===e||(t==null?void 0:t[Pt])===e}function jn(t={},e,r,n){return jt(()=>{var i,s;return Ye(()=>{i=s,s=[],Vt(()=>{t!==r(...s)&&(e(t,...s),i&&pr(r(...i),t)&&e(null,...i))})}),()=>{tr(()=>{s&&pr(r(...s),t)&&e(null,...s)})}}),t}function Hn(t,e){mn(window,["resize"],()=>En(()=>e(window[t])))}function mr(t){var e;return((e=t.ctx)==null?void 0:e.d)??!1}function I(t,e,r,n){var i;i=t[e];var s=n,f=!0,u=!1,l=()=>(u=!0,f&&(f=!1,s=n),s);i===void 0&&n!==void 0&&(i=l());var o;o=()=>{var h=t[e];return h===void 0?l():(f=!0,u=!1,h)};var v=!1,a=Me(i),c=re(()=>{var h=o(),_=m(a);return v?(v=!1,_):a.v=h});return function(h,_){if(arguments.length>0){const E=_?m(c):h;if(!c.equals(E)){if(v=!0,N(a,E),u&&s!==void 0&&(s=E),mr(c))return h;Vt(()=>m(c))}return h}return mr(c)?c.v:m(c)}}function Un(t){return new Bn(t)}class Bn{constructor(e){lt(this,Z);lt(this,j);var s;var r=new Map,n=(f,u)=>{var l=Me(u,!1,!1);return r.set(f,l),l};const i=new Proxy({...e.props||{},$$events:{}},{get(f,u){return m(r.get(u)??n(u,Reflect.get(f,u)))},has(f,u){return u===Mr?!0:(m(r.get(u)??n(u,Reflect.get(f,u))),Reflect.has(f,u))},set(f,u,l){return N(r.get(u)??n(u,l),l),Reflect.set(f,u,l)}});kt(this,j,(e.hydrate?On:cr)(e.component,{target:e.target,anchor:e.anchor,props:i,context:e.context,intro:e.intro??!1,recover:e.recover})),(!((s=e==null?void 0:e.props)!=null&&s.$$host)||e.sync===!1)&&S(),kt(this,Z,i.$$events);for(const f of Object.keys(y(this,j)))f==="$set"||f==="$destroy"||f==="$on"||Rt(this,f,{get(){return y(this,j)[f]},set(u){y(this,j)[f]=u},enumerable:!0});y(this,j).$set=f=>{Object.assign(i,f)},y(this,j).$destroy=()=>{Cn(y(this,j))}}$set(e){y(this,j).$set(e)}$on(e,r){y(this,Z)[e]=y(this,Z)[e]||[];const n=(...i)=>r.call(this,...i);return y(this,Z)[e].push(n),()=>{y(this,Z)[e]=y(this,Z)[e].filter(i=>i!==n)}}$destroy(){y(this,j).$destroy()}}Z=new WeakMap,j=new WeakMap;let Er;typeof HTMLElement=="function"&&(Er=class extends HTMLElement{constructor(e,r,n){super();B(this,"$$ctor");B(this,"$$s");B(this,"$$c");B(this,"$$cn",!1);B(this,"$$d",{});B(this,"$$r",!1);B(this,"$$p_d",{});B(this,"$$l",{});B(this,"$$l_u",new Map);B(this,"$$me");this.$$ctor=e,this.$$s=r,n&&this.attachShadow({mode:"open"})}addEventListener(e,r,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(r),this.$$c){const i=this.$$c.$on(e,r);this.$$l_u.set(r,i)}super.addEventListener(e,r,n)}removeEventListener(e,r,n){if(super.removeEventListener(e,r,n),this.$$c){const i=this.$$l_u.get(r);i&&(i(),this.$$l_u.delete(r))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(i){return s=>{const f=document.createElement("slot");i!=="default"&&(f.name=i),$t(s,f)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const r={},n=Yn(this);for(const i of this.$$s)i in n&&(i==="default"&&!this.$$d.children?(this.$$d.children=e(i),r.default=!0):r[i]=e(i));for(const i of this.attributes){const s=this.$$g_p(i.name);s in this.$$d||(this.$$d[s]=zt(s,i.value,this.$$p_d,"toProp"))}for(const i in this.$$p_d)!(i in this.$$d)&&this[i]!==void 0&&(this.$$d[i]=this[i],delete this[i]);this.$$c=Un({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:r,$$host:this}}),this.$$me=un(()=>{Ye(()=>{var i;this.$$r=!0;for(const s of It(this.$$c)){if(!((i=this.$$p_d[s])!=null&&i.reflect))continue;this.$$d[s]=this.$$c[s];const f=zt(s,this.$$d[s],this.$$p_d,"toAttribute");f==null?this.removeAttribute(this.$$p_d[s].attribute||s):this.setAttribute(this.$$p_d[s].attribute||s,f)}this.$$r=!1})});for(const i in this.$$l)for(const s of this.$$l[i]){const f=this.$$c.$on(i,s);this.$$l_u.set(s,f)}this.$$l={}}}attributeChangedCallback(e,r,n){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=zt(e,n,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(e){return It(this.$$p_d).find(r=>this.$$p_d[r].attribute===e||!this.$$p_d[r].attribute&&r.toLowerCase()===e)||e}});function zt(t,e,r,n){var s;const i=(s=r[t])==null?void 0:s.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!r[t])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function Yn(t){const e={};return t.childNodes.forEach(r=>{e[r.slot||"default"]=!0}),e}function we(t,e,r,n,i,s){let f=class extends Er{constructor(){super(t,r,i),this.$$p_d=e}static get observedAttributes(){return It(e).map(u=>(e[u].attribute||u).toLowerCase())}};return It(e).forEach(u=>{Rt(f.prototype,u,{get(){return this.$$c&&u in this.$$c?this.$$c[u]:this.$$d[u]},set(l){var a;l=zt(u,l,e),this.$$d[u]=l;var o=this.$$c;if(o){var v=(a=ct(o,u))==null?void 0:a.get;v?o[u]=l:o.$set({[u]:l})}}})}),n.forEach(u=>{Rt(f.prototype,u,{get(){var l;return(l=this.$$c)==null?void 0:l[u]}})}),t.element=f,f}const J=ht({ready:!1,chatIsOpen:!1,bubbleHeight:0});var Vn=he('<div class="svelte-fnuguh"><button class="svelte-fnuguh"> </button></div>');const Wn={hash:"svelte-fnuguh",code:`div.svelte-fnuguh {position:fixed;bottom:0.6rem;right:0.6rem;text-align:right;transition:all 0.3s;z-index:99998;}div.svelte-fnuguh > button:where(.svelte-fnuguh) {position:relative;border-radius:100rem;padding:1rem 2rem;box-shadow:0 0 0.5rem rgba(0, 0, 0, 0.1);font-family:ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
			'Segoe UI Symbol', 'Noto Color Emoji';font-size:15px;font-weight:800;border:none;outline:none;cursor:pointer;}`};function yr(t,e){Mt(e,!0),dr(t,Wn);let r=I(e,"btext",7,"Have questions?"),n=I(e,"bg",7,"#000000"),i=I(e,"fg",7,"#ffffff");const s=Ie(()=>J.chatIsOpen?"Close":r());function f(){J.chatIsOpen=!J.chatIsOpen}var u=or(),l=ue(u);{var o=v=>{var a=Vn(),c=fe(a);c.__click=f;let h;var _=fe(c,!0);ie(c),ie(a),Ve(()=>{$r(c,"aria-label",m(s)),h=wr(c,"",h,{background:n(),color:i()}),Nn(_,m(s))}),Fn(a,"offsetHeight",E=>J.bubbleHeight=E),$t(v,a)};hr(l,v=>{J.ready&&v(o)})}return $t(t,u),qt({get btext(){return r()},set btext(v="Have questions?"){r(v),S()},get bg(){return n()},set bg(v="#000000"){n(v),S()},get fg(){return i()},set fg(v="#ffffff"){i(v),S()}})}yn(["click"]),we(yr,{btext:{},bg:{},fg:{}},[],[],!0);var zn=he('<div><iframe frameborder="0" scrolling="no" title="chat widget" class="svelte-pgrnp5"></iframe></div>');const Kn={hash:"svelte-pgrnp5",code:`div.svelte-pgrnp5 {position:fixed;bottom:4.2rem;left:0.6rem;right:0.6rem;overflow:hidden;display:flex;justify-content:flex-end;border-radius:0.5rem;box-shadow:0 0 0.5rem rgba(0, 0, 0, 0.15);transition:all 0.3s;z-index:99999;}div.svelte-pgrnp5 iframe:where(.svelte-pgrnp5) {overflow:hidden;width:100%;min-height:65vh;}.hidden.svelte-pgrnp5 {display:none;}

	@media (min-width: 768px) {div.svelte-pgrnp5 {left:auto;}div.svelte-pgrnp5 iframe:where(.svelte-pgrnp5) {width:400px;}
	}`};function Tr(t,e){Mt(e,!0),dr(t,Kn);let r=I(e,"host",7,"https://qriosai.com"),n=I(e,"id"),i=I(e,"htext"),s=I(e,"bg"),f=I(e,"fg"),u=q(`${r()}/api/assistant/${n()}/embed`),l=q(void 0),o=q(!1),v=q(0);const a=Ie(()=>m(v)<900?m(v)-J.bubbleHeight-25+"px":"65vh");function c(d){const b=document.cookie.split(";");for(let R=0;R<b.length;R++){const U=b[R].split("=");if(d==U[0].trim())return decodeURIComponent(U[1])}return null}function h(d,b,R){let U="";U="; max-age="+R*60*60,document.cookie=d+"="+(b||"")+U+"; path=/"}function _(d){var R,U,Ct;if(d.origin!==r()||typeof d.data!="string")return;const b=JSON.parse(d.data);if((R=m(l))!=null&&R.contentWindow&&b.event==="qchat_init"){const St={url:window.location.href,bg:s(),fg:f(),htext:i()};(Ct=(U=m(l))==null?void 0:U.contentWindow)==null||Ct.postMessage(JSON.stringify(St),"*"),J.ready=!0}b.event==="qchat_started"&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:b.event})),b.event==="qchat_close"&&(J.chatIsOpen=!1)}Sn(()=>{const d=c("qcsid");if(d)N(u,m(u)+`?sid=${d}`);else{const b=crypto.randomUUID();h("qcsid",b,4),N(u,m(u)+`?sid=${b}`)}return window.addEventListener("message",_),N(o,!0),()=>{window.removeEventListener("message",_)}});var E=or(),H=ue(E);{var mt=d=>{var b=zn();let R;var U=fe(b);let Ct;jn(U,St=>N(l,St),()=>m(l)),ie(b),Ve(St=>{R=Rn(b,1,"svelte-pgrnp5",null,R,St),$r(U,"src",m(u)),Ct=wr(U,"",Ct,{height:m(a)})},[()=>({hidden:!J.chatIsOpen})]),$t(d,b)};hr(H,d=>{m(o)&&d(mt)})}return Hn("innerHeight",d=>N(v,d,!0)),$t(t,E),qt({get host(){return r()},set host(d="https://qriosai.com"){r(d),S()},get id(){return n()},set id(d){n(d),S()},get htext(){return i()},set htext(d){i(d),S()},get bg(){return s()},set bg(d){s(d),S()},get fg(){return f()},set fg(d){f(d),S()}})}we(Tr,{host:{},id:{},htext:{},bg:{},fg:{}},[],[],!0);var Gn=he("<!> <!>",1);function xr(t,e){Mt(e,!0);let r=I(e,"btext"),n=I(e,"htext"),i=I(e,"bg"),s=I(e,"fg"),f=I(e,"host"),u=I(e,"id");var l=Gn(),o=ue(l);Tr(o,{get host(){return f()},get id(){return u()},get htext(){return n()},get bg(){return i()},get fg(){return s()}});var v=en(o,2);return yr(v,{get btext(){return r()},get bg(){return i()},get fg(){return s()}}),$t(t,l),qt({get btext(){return r()},set btext(a){r(a),S()},get htext(){return n()},set htext(a){n(a),S()},get bg(){return i()},set bg(a){i(a),S()},get fg(){return s()},set fg(a){s(a),S()},get host(){return f()},set host(a){f(a),S()},get id(){return u()},set id(a){u(a),S()}})}return customElements.define("qchat-widget",we(xr,{btext:{},htext:{},bg:{},fg:{},host:{},id:{}},[],[],!0)),xr}();
